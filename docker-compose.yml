version: '3.8'

services:
  fdroid-updater:
    build: .
    container_name: fdroid-updater
    restart: unless-stopped
    environment:
      - POLL_INTERVAL=900 # 15 minutes in seconds
      - FDROID_KEY_ALIAS=${FDROID_KEY_ALIAS}
      - FDROID_KEYSTORE_PASS=${FDROID_KEYSTORE_PASS}
      - FDROID_KEY_PASS=${FDROID_KEY_PASS}
    volumes:
      - ./config.yml:/app/config.yml:ro
      - ./repos.json:/app/repos.json:ro
      - ./keystore.jks:/app/keystore.jks:ro
      - ./data:/data
